%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%  Albert AbellÃ³ Lozano MSc Thesis document                                                               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% Kâ€°ytâ€° toinen nâ€°istâ€°, jos kirjoitat suomeksi:
%% ensimmâ€°inen, jos kâ€°ytâ€°t pdflatexia (kuvat on oltava pdf-tiedostoina)
%% toinen, jos haluat tuottaa ps-tiedostoa (kâ€°ytâ€° eps-formaattia kuville).
%%
%% Use one of these you write in Finnish:
%% the 1st when using pdflatex (use pdf figures) or
%% the 2nd when producing a ps file (use eps figures).
%\documentclass[finnish,12pt,a4paper,pdftex]{article}
%\documentclass[finnish,12pt,a4paper,dvips]{article}


%% Kâ€°ytâ€° nâ€°itâ€°, jos kirjoitat englanniksi
%%
%% Uncomment one of these if you write in English
\documentclass[english,12pt,a4paper,pdftex]{article}
%\documentclass[english,12pt,a4paper,dvips]{article}

%% Tâ€°mâ€° paketti on pakollinen
%% Valitse korkeakoulusi nâ€°istâ€°: arts, biz, chem, elec, eng, sci.
%%
%% This package is required
%% Choose your school from arts, biz, chem, elec, eng, sci.
\usepackage[elec]{aaltothesis}

%% Jos kâ€°ytâ€°t latex-komentoa kâ€°â€°nnettâ€°essâ€° (oletusarvo) 
%% kuvat kannattaa tehdâ€° eps-muotoon. Æ’lâ€° kâ€°ytâ€° ps-muotoisia kuvia!
%% Kâ€°ytâ€° seuraavaa latex-komennon ja eps-kuvien kanssa 
%%
%% Jos tâ€°â€°s kâ€°ytâ€°t pdflatex-komentoa, joka kâ€°â€°ntâ€°â€° tekstin suoraan
%% pdf-tiedostoksi, kuvasi on oltava jpg-formaatissa tai pdf-formaatissa.
%%
%% Use this if you run pdflatex and use jpg/pdf-format pictures.
%%
\usepackage[utf8]{inputenc} % Ficheros de entrada en latin
\usepackage{graphicx}
\usepackage[]{caption}
\usepackage{subcaption}
\usepackage{chngpage}
\usepackage{placeins}
\usepackage{subfig} 
\graphicspath{{../figures/}}
%%\DeclareGraphicsExtensions{.pdf}{png}{.png}{.jpg}{jpg}{.jpeg}{jpeg}
\DeclareGraphicsExtensions{.svg,.pdf,.png,.jpeg,.jpg}
\usepackage{url}
\usepackage{hyperref}
\usepackage[small, bf]{caption}
\usepackage{dcolumn}
\usepackage{multirow}
\usepackage[font=small]{subfig}
\usepackage{mathtools}
\usepackage{listings}
\usepackage{booktabs}
\lstdefinelanguage{JavaScript}{
  keywords={typeof, new, true, false, catch, function, return, null, catch, switch, var, if, in, while, do, else, case, break},
  keywordstyle=\color{blue}\bfseries,
  ndkeywords={class, export, boolean, throw, implements, import, this},
  ndkeywordstyle=\color{darkgray}\bfseries,
  identifierstyle=\color{black},
  sensitive=false,
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{purple}\ttfamily,
  stringstyle=\color{red}\ttfamily,
  morestring=[b]',
  morestring=[b]"
}
\lstset{frame=tb,
  language=JavaScript,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily},
  numbers=none,
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=true,
  breakatwhitespace=true
  tabsize=3
}

\hypersetup{
    bookmarks=true,         % show bookmarks bar?
    unicode=false,          % non-Latin characters in AcrobatÕs bookmarks
    pdftoolbar=true,        % show AcrobatÕs toolbar?
    pdfmenubar=true,        % show AcrobatÕs menu?
    pdffitwindow=false,     % window fit to page when opened
    pdfstartview={FitH},    % fits the width of the page to the window
    pdftitle={Performance analysis of topologies for Web-based Rea-Time Communication (WebRTC)},    % title
    pdfauthor={Albert Abello Lozano},     % author
    pdfsubject={Real-Time Media Communications},   % subject of the document
    pdfcreator={Albert Abello Lozano},   % creator of the document
    pdfnewwindow=true,      % links in new window
    colorlinks=true,       % false: boxed links; true: colored links
    linkcolor=blue,          % color of internal links (change box color with linkbordercolor)
    citecolor=black,        % color of links to bibliography
    filecolor=magenta,      % color of file links
    urlcolor=cyan           % color of external links
}
%%\usepackage{ucs} % Soporte Unicode
%% Use this if you do not like hyperref package - this
%% defines url environment and formats it correctly

%% Matematiikan fontteja, symboleja ja muotoiluja lisâ€°â€°, nâ€°itâ€° tarvitaan usein 
%%
%% Use this if you write hard core mathematics, these are usually needed
\usepackage{amsfonts,amssymb,amsbsy}  
\usepackage[titletoc,toc,page]{appendix}
\usepackage{nomencl}
\renewcommand{\nomname}{Abbreviatures}
\renewcommand{\nomlabel}[1]{\hspace{1em}#1}
%% Vaakasuunnan mitat, Æ’LÆ’ KOSKE!
\setlength{\hoffset}{-1in}
\setlength{\oddsidemargin}{35mm}
\setlength{\evensidemargin}{25mm}
\setlength{\textwidth}{15cm}
%% Pystysuunnan mitat, Æ’LÆ’ KOSKE!
\setlength{\voffset}{-1in}
\setlength{\headsep}{7mm}
\setlength{\headheight}{1em}
\setlength{\topmargin}{25mm-\headheight-\headsep}
\setlength{\textheight}{23cm}
\usepackage{xpatch}
%% Kaikki mikâ€° paperille tulostuu, on tâ€°mâ€°n jâ€°lkeen
%%
%% Output starts here
\begin{document}

%% Korjaa vastaamaan korkeakouluasi, jos automaattisesti asetettu nimi on 
%% virheellinen 
%%
%% Change the school field to describe your school if the autimatically 
%% set name is wrong
% \university{aalto University}{aalto-Yliopisto}
% \school{School of Electrical Engineering}{Sâ€°hkË†Tekniikan korkeakoulu}

%% Vain kandityË†lle: Korjaa seuraavat vastaamaan koulutusohjelmaasi
%%
%% Only for B.Sc. thesis: Choose your degree programme. 
\degreeprogram{Electronics and electrical engineering}%
{Elektroniikka ja sâ€°hkË†tekniikka}
%%

%% Vain DI/M.Sc.- ja lisensiaatintyË†lle: valitse laitos, 
%% professuuri ja sen professuurikoodi. 
%%
%% Only for M.Sc. and Licentiate thesis: Choose your department,
%% professorship and professorship code. 
\department{Department of Communication and Networking}%
{Radiotieteen ja -tekniikan laitos}
\professorship{Networking Technology}{Piiriteoria}
\code{S-38}
%%

%% Valitse yksi nâ€°istâ€° kolmesta
%%
%% Choose one of these:
%\univdegree{BSc}
\univdegree{MSc}
%\univdegree{Lic}

%% Oma nimi
%%
%% Should be self explanatory...
\author{Albert Abell\'o Lozano}

%% Opinnâ€°ytteen otsikko tulee vain tâ€°hâ€°n. Æ’lâ€° tavuta otsikkoa ja
%% vâ€°ltâ€° liian pitkâ€°â€° otsikkotekstiâ€°. Jos latex ryhmittelee otsikon
%% huonosti, voit joutua pakottamaan rivinvaihdon \\ kontrollimerkillâ€°.
%% Muista ettâ€° otsikkoja ei tavuteta! 
%% Jos otsikossa on ja-sana, se ei jâ€°â€° rivin viimeiseksi sanaksi 
%% vaan aloittaa uuden rivin.
%% 
%% Your thesis title. If the title is very long and the latex 
%% does unsatisfactory job of breaking the lines, you will have to
%% break the lines yourself with \\ control character. 
%% Do not hyphenate titles.
\thesistitle{Performance analysis of topologies for Web-based Real-Time Communication (WebRTC)}{Opinnâ€°yteohje}

\place{Espoo}
%% KandidaatintyË†n pâ€°ivâ€°mâ€°â€°râ€° on sen esityspâ€°ivâ€°mâ€°â€°râ€°! 
%% 
%% For B.Sc. thesis use the date when you present your thesis. 
\date{15.8.2013}

%% Kandidaattiseminaarin vastuuopettaja tai diplomityË†n valvoja.
%% Huomaa tittelissâ€° "\" -merkki pisteen jâ€°lkeen, 
%% ennen vâ€°lilyË†ntiâ€° ja seuraavaa merkkijonoa. 
%% Nâ€°in tehdâ€°â€°n, koska kyseessâ€° ei ole lauseen loppu, jonka jâ€°lkeen tulee 
%% hieman pidempi vâ€°li vaan halutaan tavallinen vâ€°li.
%%
%% B.Sc. or M.Sc. thesis supervisor 
%% Note the "\" after the comma. This forces the following space to be 
%% a normal interword space, not the space that starts a new sentence. 
\supervisor{Prof.\ J\"org Ott}{Prof.\ J\"org Ott}

%% KandidaatintyË†n ohjaaja(t) tai diplomityË†n ohjaaja(t)
%% 
%% B.Sc. or M.Sc. thesis advisors(s). 
%%
%% Note that there has been a change in the official EN translation
%% of the Finnish title ``ohjaaja'' which in the previous version (1.5) 
%% of this document was called ``instructor''. The recommended
%% translation is now ``advisor''.  
%% However, the LaTeX internal variable remains \instructor
%% as there is little point to change the variable name. 
%%
%\instructor{Prof. Pirjo Professori}{Prof. Pirjo Professori}
\instructor{M.Sc.\ (Tech.) Varun Singh}{TkT Varun Singh}
%\instructor{M.Sc.\ (Tech.) Polli Pohjaaja}{DI Polli Pohjaaja}

%% Aaltologo: syntaksi:
%% \uselogo{aaltoRed|aaltoBlue|aaltoYellow|aaltoGray|aaltoGrayScale}{?|!|''}
%% Logon kieli on sama kuin dokumentin kieli
%%
%% Aalto logo: syntax:
% \uselogo{aaltoRed|aaltoBlue|aaltoYellow|aaltoGray|aaltoGrayScale}{?|!|''}
%% Logo language is set to be the same as the document language.
\uselogo{aaltoRed}{''}

%% Tehdâ€°â€°n kansilehti
%%
%% Create the coverpage
\makecoverpage

%% Pakotetaan uusi sivu varmuuden vuoksi, jotta 
%% mahdollinen suomenkielinen ja englanninkielinen tiivistelmâ€°
%% eivâ€°t tule vahingossakaan samalle sivulle
%%
%% Force new page so that English abstract starts from a new page
\newpage
%
%% English abstract, uncomment if you need one. 
%% 
%% Abstract keywords
\keywords{Internet, WebRTC, Real-time Communication, Network Topologies, Performance Analysis, Congestion Control, Browsers, HTML5}
%% Abstract text
\begin{abstractpage}[english]
Real-time Communications over the Web (WebRTC) is being developed to be the next big improvement for rich web applications. This enabler allow developers to implement real-time data transfer between browsers by using high level Application Programing Interfaces (APIs). Running real-time applications in browsers may lead to a totally new scenario regarding usability and performance. Congestion control mechanisms may influence the way this data is sent and metrics such as delay, bit rate and loss are now crucial for browsers. Some mechanisms that have been used in other technologies are implemented in those browsers to handle the internals of WebRTC adding complexity to the system but hiding it from the application developer. This new scenario requires a deep study regarding the ability of browsers to adapt to those requirements and to fulfill all the features that are enabled.
\newline
\newline
We investigate how WebRTC performs in a real environment running over an current web application. The capacity of the internal mechanisms to adapt to the variable conditions of the path, consumption resources and rate. Taking those principles, we test a range of topologies and use cases that can be implemented with the current version of WebRTC. Considering this scenario we divide the metrics in two categories, host and network indicators. We compare the results of those tests with the expected output based on the defined protocol in order to evaluate the ability to perform real-time media communication over the browser.
\end{abstractpage}
%% Note that 
%% if you are writting your master's thesis in English place the English
%% abstract first followed by the possible Finnish abstract

%\mysection{}
%\vspace*{\fill} 
%\begin{quote} 
%%\centering 
%%{\it ``It has become appallingly obvious that our technology has exceeded our humanity.''}
%
%
%%\hfill \textbf{Albert Einstein (1879 - 1955)}
%\end{quote}
%\vspace*{\fill}
%% Preface
\mysection{Preface}

First of all, I would like to thank Prof. Jörg Ott for allowing me to join his research team and all the time he spend going through this thesis giving very valuable feedback. Huge thanks to my friend and supervisor Varun Singh for proposing this topic and all the time he spent teaching me and giving good ideas, at the same time as solutions, for this thesis. Varun has been a very important guidance for the development of the thesis and an accessible pool of knowledge.

I would like to thank the Department of Communication and Networking at Aalto University for providing the required resources to develop this thesis. Future Internet Graduate School and EIT-ICT labs for financially supporting it. Aalto administrative staff for providing help in all the various bureaucratic tasks required to finish this project. W3C and IETF working groups for the amount of valuable knowledge about the topic. NomadicLab people for introducing myself into development of WebRTC applications. I also would like to thank Patrik Höglund and Luigi Rizzo for the fast response given when asked. Special thanks to all the work colleagues that shared their suggestions and feedback with me.

Huge thanks to all my friends in Finland that helped me to go through this period of my life and made it easier for me to adapt in the cold weather, it would have not been the same without them. There are many of them, but I would like to thank Juan for the brainstorming lessons when living next to my room.

Thanks to all my family and friends in Spain for supporting, encouraging and standing next to me during all my projects, the success of this thesis wouldn't have been possible without their help. 

Lastly, thank to you reader. If you are reading this one line after the other, you at least have read one page of my thesis. Thank you.

\vspace{5cm}
Otaniemi, 15.8.2013

\vspace{5mm}
{\hfill Albert Abell\'o Lozano \hspace{1cm}}

%% Pakotetaan varmuuden vuoksi esipuheen jâ€°lkeinen osa
%% alkamaan uudelta sivulta
%%
%% Force new page after preface
\newpage

%% Sisâ€°llysluettelo
%% addcontentsline tekee pdf-tiedostoon viitteen sisâ€°llysluetteloa varten
%% 
%% Table of contents. 
\addcontentsline{toc}{section}{Contents}


%% Tehdâ€°â€°n sisâ€°llysluettelo
%%
%% Create it. 
\tableofcontents
\listoffigures
\listoftables

%%\nomenclature{$l$}{Length\nomunit{m}}
%% 
%% Corrects the page numbering, there is no need to change these
\cleardoublepage
\storeinipagenumber
%%
%%Definitions and abreviations
\setlength{\nomitemsep}{-\parsep}
\setlength{\nomlabelwidth}{.20\hsize}
\makenomenclature
\printnomenclature

%\addcontentsline{toc}{section}{Definitions and abreviations}

\newpage

\pagenumbering{arabic}
\setcounter{page}{1}

%% 
%% Leave first page empty
\thispagestyle{empty}



%%introduction chapter
\include{./chapters/introduction}

%documentation and drafts
%\include{./chapters/documentation}

%What is webRTC
\include{./chapters/webrtc}

%Use cases and topologies
\include{./chapters/topologies}

%Congestion environments
\include{./chapters/congestion}

%Simulation environment
\include{./chapters/simulation}

%Tests
\include{./chapters/tests}

%Summary of results
%\include{./chapters/summary}

%Discussion
%\include{./chapters/discussion}

%Real use case (dialogue.io)
%\include{./chapters/dialogue}

%%conclusion chapter
\include{./chapters/conclusion}


\addcontentsline{toc}{section}{References}
\bibliographystyle{unsrt}
\bibliography{./chapters/allpapers} 

%%Appendix
\appendix
\include{./appendix/fakevideo}

\include{./appendix/dummynet}

\include{./appendix/scripting}

\end{document}


